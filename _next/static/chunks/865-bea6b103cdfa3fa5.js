"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[865],{1865:function(e,a,t){t.d(a,{Z:function(){return I}});var s=t(7437),l=t(2265),r=t(9270),n=t(401),o=t(4508);let d=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(r.fC,{ref:a,className:(0,o.cn)("peer h-6 w-6 shrink-0 rounded-sm border-2 border-border ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:border-accent data-[state=checked]:bg-accent",t),...l,children:(0,s.jsx)(r.z$,{className:(0,o.cn)("flex items-center justify-center text-current"),children:(0,s.jsx)(n.Z,{className:"h-4 w-4 text-foreground-second",strokeWidth:3})})})});d.displayName=r.fC.displayName;var c=t(6815),i=t(2869),u=t(875),m=t(6343),f=t(3247);t(6110);let p=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(m.mY,{ref:a,className:(0,o.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",t),...l})});p.displayName=m.mY.displayName;let x=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsxs)("div",{className:"flex items-center border-b border-border px-3","cmdk-input-wrapper":"",children:[(0,s.jsx)(f.Z,{className:"mr-2 h-4 w-4  shrink-0 opacity-50"}),(0,s.jsx)(m.mY.Input,{ref:a,className:(0,o.cn)("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",t),...l})]})});x.displayName=m.mY.Input.displayName;let b=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(m.mY.List,{ref:a,className:(0,o.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",t),...l})});b.displayName=m.mY.List.displayName;let h=l.forwardRef((e,a)=>(0,s.jsx)(m.mY.Empty,{ref:a,className:"py-6 text-center text-sm",...e}));h.displayName=m.mY.Empty.displayName;let g=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(m.mY.Group,{ref:a,className:(0,o.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",t),...l})});g.displayName=m.mY.Group.displayName,l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(m.mY.Separator,{ref:a,className:(0,o.cn)("-mx-1 h-px bg-border",t),...l})}).displayName=m.mY.Separator.displayName;let v=l.forwardRef((e,a)=>{let{className:t,...l}=e;return(0,s.jsx)(m.mY.Item,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none  data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",t),...l})});v.displayName=m.mY.Item.displayName;var N=t(1381);let j=N.fC,y=N.xz,w=l.forwardRef((e,a)=>{let{className:t,align:l="center",sideOffset:r=4,...n}=e;return(0,s.jsx)(N.h_,{children:(0,s.jsx)(N.VY,{ref:a,align:l,sideOffset:r,className:(0,o.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});w.displayName=N.VY.displayName;var k=t(3145),S=e=>{let{label:a,setValue:t,value:r,options:n}=e,[d,c]=(0,l.useState)(!1),m={value:"",label:"Все",code:""},f=n.find(e=>e.value===r)||m,N=e=>{t(e===r?"":e),c(!1)};return(0,s.jsx)("div",{children:(0,s.jsxs)(j,{open:d,onOpenChange:c,children:[(0,s.jsx)("label",{className:"block mb-2 text-sm font-medium text-foreground-soft",children:a}),(0,s.jsx)(y,{asChild:!0,children:(0,s.jsxs)(i.z,{variant:"outline",role:"combobox","aria-expanded":d,className:'flex w-full justify-between items-center group outline-border hover:outline-border  text-foreground body-s-strong p-4 xl:hover:bg-background-surface data-[state="open"]:outline-accent-hover xl:hover:text-foreground',children:[(0,s.jsxs)("div",{className:"flex items-center",children:[f.code&&(0,s.jsx)(k.default,{src:"https://flagsapi.com/".concat(f.code.toUpperCase(),"/flat/24.png"),alt:f.label,className:"mr-3 h-5 w-5 rounded-[4px] object-cover",width:24,height:24}),f.label]}),(0,s.jsx)(u.Z,{className:"ml-2 h-4 w-4 shrink-0 group-data-[state=open]:rotate-180 text-foreground",size:16})]})}),(0,s.jsx)(w,{className:"w-full min-w-80 sm:min-w-[500px] lg:min-w-60 max-w-none p-0 border-border bg-background-surface",children:(0,s.jsxs)(p,{className:"w-full",children:[(0,s.jsx)(x,{placeholder:"Поиск..."}),(0,s.jsxs)(b,{children:[(0,s.jsx)(h,{children:"Пусто \xaf\\_(ツ)_/\xaf"}),(0,s.jsx)(g,{children:[m,...n].map(e=>(0,s.jsxs)(v,{className:(0,o.cn)("body-s-strong cursor-pointer hover:bg-background",e.value===r&&"bg-background"),value:e.value,onSelect:()=>N(e.value),children:[e.code&&(0,s.jsx)(k.default,{src:"https://flagsapi.com/".concat(e.code.toUpperCase(),"/flat/16.png"),alt:e.label,className:"mr-3 w-4 h-4 object-cover",width:24,height:24}),e.label]},e.value))})]})]})})]})})},C=t(5186),Y=t(9754);let _=l.forwardRef((e,a)=>{let{className:t,min:r,max:n,step:d,formatLabel:c,value:i,onValueChange:u,...m}=e,f=Array.isArray(i)?i:[r,n],[p,x]=l.useState(f);return l.useEffect(()=>{x(Array.isArray(i)?i:[r,n])},[r,n,i]),(0,s.jsxs)(Y.fC,{ref:a,min:r,max:n,step:d,value:p,onValueChange:e=>{x(e),u&&u(e)},className:(0,o.cn)("relative flex w-full touch-none select-none items-center ",t),...m,children:[(0,s.jsx)(Y.fQ,{className:"relative h-0.5 w-full grow overflow-hidden rounded-full bg-accent ",children:(0,s.jsx)(Y.e6,{className:"absolute h-full bg-accent"})}),p.map((e,a)=>(0,s.jsx)(l.Fragment,{children:(0,s.jsx)(Y.bU,{className:"block h-3 w-3 rounded-full cursor-grab bg-accent shadow  focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 relative"})},a))]})});_.displayName=Y.fC.displayName;let z=e=>e.toLocaleString().replace(/,/g," "),R=e=>parseInt(e.replace(/\s+/g,""),10);var V=e=>{let{value:a,setValue:t,label:r,min:n,max:o,step:d}=e,[c,i]=(0,l.useState)("".concat(z(a[0])," - ").concat(z(a[1])));(0,l.useEffect)(()=>{i("".concat(z(a[0])," - ").concat(z(a[1])))},[a]);let u=(0,l.useCallback)(e=>{i(e.target.value)},[]),m=()=>{i("".concat(z(a[0])," - ").concat(z(a[1])))},f=(0,l.useCallback)(()=>{if(/^\d+\s*-\s*\d+$/.test(c)){let[e,a]=c.split("-"),s=R(e),l=R(a);isNaN(s)||isNaN(l)?m():t([Math.min(s=Math.max(n,Math.min(s,o)),l=Math.max(n,Math.min(l,o))),Math.max(s,l)])}else m()},[c,n,o,t]),p=(0,l.useCallback)(e=>{t([e[0],e[1]])},[t]);return(0,s.jsxs)("div",{className:"mb-5 relative",children:[(0,s.jsx)("label",{className:"block mb-2 text-sm font-medium text-foreground-soft",children:r}),(0,s.jsx)(C.I,{type:"text",className:"bg-background h-[54px] border-none !body-s-strong text-foreground rounded-sm -mb-[1px] ring-border outline-1 outline outline-transparent focus-within:outline-accent-hover !ring-offset-0 ",placeholder:"".concat(z(n)," - ").concat(z(o)),value:c,onChange:u,onBlur:f}),(0,s.jsx)("div",{className:"mx-4",children:(0,s.jsx)(_,{className:"",min:n,max:o,value:a,step:d,onValueChange:p})})]})},I=e=>{let{serverData:a,setFilteredData:t,discount:r,className:n}=e,u=[99,99999],m=[1,192],f=[1,128],p=[10,8e3],[x,b]=(0,l.useState)(u),[h,g]=(0,l.useState)(m),[v,N]=(0,l.useState)(f),[j,y]=(0,l.useState)(p),[w,k]=(0,l.useState)(""),[C,Y]=(0,l.useState)(""),[_,z]=(0,l.useState)(""),[R,I]=(0,l.useState)([]),M=Array.from(new Set(a.map(e=>JSON.stringify(e.location)))).map(e=>JSON.parse(e)).map(e=>({value:e.name,label:e.name,code:e.code})),A=e=>{I(a=>a.includes(e)?a.filter(a=>a!==e):[...a,e])};return(0,l.useEffect)(()=>{t(a.filter(e=>{let a=r>0?e.price*(1-r/100):e.price,t=a>=x[0]&&a<=x[1],s=e.ram.size>=h[0]&&e.ram.size<=h[1],l=e.cpu.cores>=v[0]&&e.cpu.cores<=v[1],n=e.disk.size>=j[0]&&e.disk.size<=j[1],o=!w||e.location.name===w,d=!C||e.disk.type===C,c=!_||e.cpu.type===_,i=0===R.length||R.includes("none")&&null===e.ddosProtection||R.includes("protected")&&"string"==typeof e.ddosProtection;return t&&s&&l&&n&&o&&d&&c&&i}))},[x,h,v,j,w,C,_,R,r,a,t]),(0,s.jsx)("div",{className:(0,o.cn)("w-full max-w-[300px] p-6 bg-background-surface  rounded-xl",n),children:(0,s.jsxs)("div",{className:"flex flex-col gap-6",children:[(0,s.jsx)(S,{label:"Локация",value:w,setValue:k,options:M}),(0,s.jsx)(S,{label:"Процессор",value:_,setValue:z,options:[{value:"amd",label:"AMD"},{value:"intel",label:"Intel"}]}),(0,s.jsx)(S,{label:"Тип диска",value:C,setValue:Y,options:[{value:"nvme",label:"NVMe SSD"},{value:"ssd",label:"SSD"},{value:"hdd",label:"HDD"}]}),(0,s.jsx)(V,{value:x,step:1,min:99,max:99999,label:"Цена в месяц, ₽",setValue:b}),(0,s.jsx)(V,{value:v,step:1,min:1,max:128,label:"Количество CPU, ядер",setValue:N}),(0,s.jsx)(V,{value:h,step:1,min:1,max:192,label:"Память RAM, ГБ",setValue:g}),(0,s.jsx)(V,{value:j,step:1,min:10,max:8e3,label:"Объем диска, ГБ",setValue:y}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block mb-2 text-sm font-medium text-foreground-soft",children:"DDoS защита"}),(0,s.jsxs)("div",{className:"flex gap-2.5 flex-col body-s-strong",children:[(0,s.jsxs)(c._,{className:"flex items-center gap-2.5 cursor-pointer",children:[(0,s.jsx)(d,{checked:R.includes("none"),onClick:()=>A("none")}),(0,s.jsx)("span",{className:"body-s-strong",children:"Без защиты"})]}),(0,s.jsxs)(c._,{className:"flex items-center gap-2.5 cursor-pointer",children:[(0,s.jsx)(d,{checked:R.includes("protected"),onClick:()=>A("protected")}),(0,s.jsx)("span",{className:"body-s-strong",children:"С защитой"})]})]})]}),(0,s.jsx)(i.z,{className:"!text-accent !bg-background-surface",variant:"tertiary",onClick:()=>{b(u),g(m),N(f),y(p),k(""),Y(""),z(""),I([])},children:"Сбросить фильтр"})]})})}},5186:function(e,a,t){t.d(a,{I:function(){return n}});var s=t(7437),l=t(2265),r=t(4508);let n=l.forwardRef((e,a)=>{let{className:t,type:l,...n}=e;return(0,s.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50 ",t),ref:a,...n})});n.displayName="Input"}}]);